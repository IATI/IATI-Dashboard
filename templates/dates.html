{% extends 'base.html' %}
{% import 'boxes.html' as boxes %}
{% block title %}
{{ super () }} - Dates
{% endblock %}
{% block content %}

<div class="page-header">
  <h1>Dates</h1>
</div>

    <div class="panel panel-default">
    <div class="panel-heading"><h3 class="panel-title">Activity Dates</h3></div>
    <table class="table table-striped">
      <thead><tr>
        <th>Publisher</th>
        <th>Earliest Date</th>
        <th>Latest Date</th>
        <th>Latest Actual Start</th>
        <th>Latest Actual End</th>
      </tr></thead>
      <tbody>
        {% for publisher, activities in current_stats.inverted_publisher.activities.items() %}
        {% set publisher_stats = get_publisher_stats(publisher) %}
            <tr>
                <td><a href="publisher/{{publisher}}.html">{{publisher_name[publisher]}}</a></td>
                <td>{% if publisher_stats.date_extremes.min.overall %}{{publisher_stats.date_extremes.min.overall}}{% endif %}</td>
                <td>{% if publisher_stats.date_extremes.max.overall %}{{publisher_stats.date_extremes.max.overall}}{% endif %}</td>
                <td>{% if publisher_stats.date_extremes.max.by_type['start-actual'] %}{{publisher_stats.date_extremes.max.by_type['start-actual'] }}{% endif %}</td>
                <td>{% if publisher_stats.date_extremes.max.by_type['end-actual'] %}{{publisher_stats.date_extremes.max.by_type['end-actual'] }}{% endif %}</td>
            </tr>
        {% endfor %}
      </tbody>
    </table>
    </div>
{% endblock %}
